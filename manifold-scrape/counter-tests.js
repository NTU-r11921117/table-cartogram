import tape from 'tape';
import {buildCounter} from './manifold-scrape';

tape('test counter', t => {
  // t.assert()
  const counter1 = buildCounter(2, 3);
  const expectedResults1 = [
    [0.5, 0.0, 0.0],
    [0.0, 0.5, 0.0],
    [0.5, 0.5, 0.0],
    [0.0, 0.0, 0.5],
    [0.5, 0.0, 0.5],
    [0.0, 0.5, 0.5],
    [0.5, 0.5, 0.5],
    [0.0, 0.0, 0.0]
  ];
  for (let i = 0; i < 8; i++) {
    t.deepEqual(counter1(), expectedResults1[i], 'should find the correct counter value');
  }

  const counter2 = buildCounter(3, 3);
  const expectedResults2 = [
    [0.3333333333333333, 0.0, 0.0],
    [0.6666666666666666, 0.0, 0.0],
    [0.0, 0.3333333333333333, 0.0],
    [0.3333333333333333, 0.3333333333333333, 0.0],
    [0.6666666666666666, 0.3333333333333333, 0.0],
    [0.0, 0.6666666666666666, 0.0],
    [0.3333333333333333, 0.6666666666666666, 0.0],
    [0.6666666666666666, 0.6666666666666666, 0.0],
    [0.0, 0.0, 0.3333333333333333],
    [0.3333333333333333, 0.0, 0.3333333333333333],
    [0.6666666666666666, 0.0, 0.3333333333333333],
    [0.0, 0.3333333333333333, 0.3333333333333333],
    [0.3333333333333333, 0.3333333333333333, 0.3333333333333333],
    [0.6666666666666666, 0.3333333333333333, 0.3333333333333333],
    [0.0, 0.6666666666666666, 0.3333333333333333],
    [0.3333333333333333, 0.6666666666666666, 0.3333333333333333],
    [0.6666666666666666, 0.6666666666666666, 0.3333333333333333],
    [0.0, 0.0, 0.6666666666666666],
    [0.3333333333333333, 0.0, 0.6666666666666666],
    [0.6666666666666666, 0.0, 0.6666666666666666],
    [0.0, 0.3333333333333333, 0.6666666666666666],
    [0.3333333333333333, 0.3333333333333333, 0.6666666666666666],
    [0.6666666666666666, 0.3333333333333333, 0.6666666666666666],
    [0.0, 0.6666666666666666, 0.6666666666666666],
    [0.3333333333333333, 0.6666666666666666, 0.6666666666666666],
    [0.6666666666666666, 0.6666666666666666, 0.6666666666666666],
    [0.0, 0.0, 0.0]
  ];
  for (let i = 0; i < 8; i++) {
    t.deepEqual(counter2(), expectedResults2[i], 'should find the correct counter value');
  }
  t.end();
});
